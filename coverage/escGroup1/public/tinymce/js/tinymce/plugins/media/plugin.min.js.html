<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for escGroup1/public/tinymce/js/tinymce/plugins/media/plugin.min.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../../../../../../prettify.css" />
    <link rel="stylesheet" href="../../../../../../../base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../../../../../../../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="../../../../../../../index.html">All files</a> / <a href="index.html">escGroup1/public/tinymce/js/tinymce/plugins/media</a> plugin.min.js
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>0/262</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>0/280</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>0/94</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>0/1</span>
      </div>
    </div>
    <p class="quiet">
      Press <em>n</em> or <em>j</em> to go to the next uncovered block, <em>b</em>, <em>p</em> or <em>k</em> for the previous block.
    </p>
  </div>
  <div class='status-line low'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet"><a name='L1'></a><a href='#L1'>1</a></td><td class="line-coverage quiet"><span class="cline-any cline-no">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js"><span class="cstat-no" title="statement not covered" >!<span class="fstat-no" title="function not covered" >fu</span>nction(){"use strict";var e=<span class="cstat-no" title="statement not covered" >tinymce.util.Tools.resolve("tinymce.PluginManager"),</span>o=<span class="cstat-no" title="statement not covered" >tinymce.util.Tools.resolve("tinymce.Env"),</span>v=<span class="cstat-no" title="statement not covered" >tinymce.util.Tools.resolve("tinymce.util.Tools"),</span>w=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >return e.getParam("media_scripts")}</span>,</span>b=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >return e.getParam("audio_template_callback")}</span>,</span>y=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >return e.getParam("video_template_callback")}</span>,</span>n=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >return e.getParam("media_live_embeds",!0)}</span>,</span>t=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >return e.getParam("media_filter_html",!0)}</span>,</span>s=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >return e.getParam("media_url_resolver")}</span>,</span>m=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >return e.getParam("media_alt_source",!0)}</span>,</span>d=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >return e.getParam("media_poster",!0)}</span>,</span>h=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >return e.getParam("media_dimensions",!0)}</span>,</span>p=<span class="cstat-no" title="statement not covered" >tinymce.util.Tools.resolve("tinymce.html.SaxParser"),</span>r=<span class="cstat-no" title="statement not covered" >tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),</span>x=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e,t){<span class="cstat-no" title="statement not covered" >if(e)<span class="cstat-no" title="statement not covered" >for(var r=0;r&lt;e.length;r++)<span class="cstat-no" title="statement not covered" >if(-1!==t.indexOf(e[r].filter))<span class="cstat-no" title="statement not covered" >return e[r]}</span></span></span></span>,</span>i=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(t){<span class="cstat-no" title="statement not covered" >return <span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >return e?e.style[t].replace(/px$/,""):""}</span>}</span>,</span>a=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(i){<span class="cstat-no" title="statement not covered" >return <span class="fstat-no" title="function not covered" >fu</span>nction(e,t){var r;<span class="cstat-no" title="statement not covered" >e&amp;&amp;(e.style[i]=/^[0-9.]+$/.test(r=t)?r+"px":r)}</span>}</span>,</span>f=<span class="cstat-no" title="statement not covered" >{getMaxWidth:i("maxWidth"),getMaxHeight:i("maxHeight"),setMaxWidth:a("maxWidth"),setMaxHeight:a("maxHeight")},</span>u=<span class="cstat-no" title="statement not covered" >r.DOM,</span>l=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >return u.getAttrib(e,"data-ephox-embed-iri")}</span>,</span>j=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e,t){<span class="cstat-no" title="statement not covered" >return c=t,s=u.createFragment(c),""!==l(s.firstChild)?(o=t,n=u.createFragment(o).firstChild,{type:"ephox-embed-iri",source1:l(n),source2:"",poster:"",width:f.getMaxWidth(n),height:f.getMaxHeight(n)}):(i=e,r=t,p({validate:(a={},!1),allow_conditional_comments:!0,special:"script,noscript",start:<span class="fstat-no" title="function not covered" >fu</span>nction(e,t){<span class="cstat-no" title="statement not covered" >if(a.source1||"param"!==e||(a.source1=t.map.movie),"iframe"!==e&amp;&amp;"object"!==e&amp;&amp;"embed"!==e&amp;&amp;"video"!==e&amp;&amp;"audio"!==e||(a.type||(a.type=e),a=v.extend(t.map,a)),"script"===e){var r=<span class="cstat-no" title="statement not covered" >x(i,t.map.src);<span class="cstat-no" title="statement not covered" ></span>if(!r)<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >a</span></span>={type:"script",source1:t.map.src,width:r.width,height:r.height}}<span class="cstat-no" title="statement not covered" ></span>"</span>source"===e&amp;&amp;(a.source1?a.source2||(a.source2=t.map.src):a.source1=t.map.src),"img"!==e||a.poster||(a.poster=t.map.src)}</span>}).parse(r),a.source1=a.source1||a.src||a.data,a.source2=a.source2||"",a.poster=a.poster||"",a);v</span>ar i,r,a,o,n,c,s},</span>g=<span class="cstat-no" title="statement not covered" >tinymce.util.Tools.resolve("tinymce.util.Promise"),</span>M=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e){var t=<span class="cstat-no" title="statement not covered" >{mp3:"audio/mpeg",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"}[e.toLowerCase().split(".").pop()];<span class="cstat-no" title="statement not covered" ></span>return t||""}</span>,</span>_=<span class="cstat-no" title="statement not covered" >tinymce.util.Tools.resolve("tinymce.html.Writer"),</span>C=<span class="cstat-no" title="statement not covered" >tinymce.util.Tools.resolve("tinymce.html.Schema"),</span>S=<span class="cstat-no" title="statement not covered" >r.DOM,</span>F=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e,t){var r,i,a,o;<span class="cstat-no" title="statement not covered" >for(r in t)<span class="cstat-no" title="statement not covered" >if(a=""+t[r],e.map[r])<span class="cstat-no" title="statement not covered" >for(i=e.length;i--;)<span class="cstat-no" title="statement not covered" >(o=e[i]).name===r&amp;&amp;(a?(e.map[r]=a,o.value=a):(delete e.map[r],e.splice(i,1)));e</span></span>lse <span class="cstat-no" title="statement not covered" >a&amp;&amp;(e.push({name:r,value:a}),e.map[r]=a)}</span></span></span>,</span>k=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e,t){var r,i,a=<span class="cstat-no" title="statement not covered" >S.createFragment(e).firstChild;<span class="cstat-no" title="statement not covered" ></span>return f.setMaxWidth(a,t.width),f.setMaxHeight(a,t.height),r=a.outerHTML,i=_(),p(i).parse(r),i.getContent()}</span>,</span>A=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e,t,r){<span class="cstat-no" title="statement not covered" >return u=e,l=S.createFragment(u),""!==S.getAttrib(l.firstChild,"data-ephox-embed-iri")?k(e,t):(i=e,a=t,o=r,c=_(),p({validate:!1,allow_conditional_comments:!(s=0),special:"script,noscript",comment:<span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >c.comment(e)}</span>,cdata:<span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >c.cdata(e)}</span>,text:<span class="fstat-no" title="function not covered" >fu</span>nction(e,t){<span class="cstat-no" title="statement not covered" >c.text(e,t)}</span>,start:<span class="fstat-no" title="function not covered" >fu</span>nction(e,t,r){<span class="cstat-no" title="statement not covered" >switch(e){case"video":case"object":case"embed":case"img":case"iframe":<span class="cstat-no" title="statement not covered" >a.height!==undefined&amp;&amp;a.width!==undefined&amp;&amp;F(t,{width:a.width,height:a.height})}<span class="cstat-no" title="statement not covered" ></span>i</span>f(o)<span class="cstat-no" title="statement not covered" >switch(e){case"video":<span class="cstat-no" title="statement not covered" >F(t,{poster:a.poster,src:""}),a.source2&amp;&amp;F(t,{src:""});<span class="cstat-no" title="statement not covered" >b</span>reak;c</span>ase"iframe":<span class="cstat-no" title="statement not covered" >F(t,{src:a.source1});<span class="cstat-no" title="statement not covered" >b</span>reak;c</span>ase"source":<span class="cstat-no" title="statement not covered" >if(++s&lt;=2&amp;&amp;(F(t,{src:a["source"+s],type:a["source"+s+"mime"]}),!a["source"+s]))<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >b</span></span>reak;c</span>ase"img":<span class="cstat-no" title="statement not covered" >if(!a.poster)<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >n</span></span>=!0}<span class="cstat-no" title="statement not covered" ></span>c</span></span>.start(e,t,r)}</span>,end:<span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >if("video"===e&amp;&amp;o)<span class="cstat-no" title="statement not covered" >for(var t=1;t&lt;=2;t++)<span class="cstat-no" title="statement not covered" >if(a["source"+t]){var r=<span class="cstat-no" title="statement not covered" >[];<span class="cstat-no" title="statement not covered" ></span>r.map={},s&lt;t&amp;&amp;(F(r,{src:a["source"+t],type:a["source"+t+"mime"]}),c.start("source",r,!0))}<span class="cstat-no" title="statement not covered" ></span>i</span></span></span>f(a.poster&amp;&amp;"object"===e&amp;&amp;o&amp;&amp;!n){var i=<span class="cstat-no" title="statement not covered" >[];<span class="cstat-no" title="statement not covered" ></span>i.map={},F(i,{src:a.poster,width:a.width,height:a.height}),c.start("img",i,!0)}<span class="cstat-no" title="statement not covered" ></span>c</span>.end(e)}</span>},C({})).parse(i),c.getContent());v</span>ar i,a,o,n,c,s,u,l},</span>N=<span class="cstat-no" title="statement not covered" >[{regex:/youtu\.be\/([\w\-_\?&amp;=.]+)/i,type:"iframe",w:560,h:314,url:"//www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&amp;]+)(&amp;([a-z0-9&amp;=\-_]+))?/i,type:"iframe",w:560,h:314,url:"//www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&amp;=\-_]+)/i,type:"iframe",w:560,h:314,url:"//www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"//player.vimeo.com/video/$1?title=0&amp;byline=0&amp;portrait=0&amp;color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"//player.vimeo.com/video/$2?title=0&amp;amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'//maps.google.com/maps/ms?msid=$2&amp;output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"//www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"//www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],</span>c=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(r,e){var i=<span class="cstat-no" title="statement not covered" >v.extend({},e);<span class="cstat-no" title="statement not covered" ></span>if(!i.source1&amp;&amp;(v.extend(i,j(w(r),i.embed)),!i.source1))<span class="cstat-no" title="statement not covered" >return"";<span class="cstat-no" title="statement not covered" >i</span></span>.source2||(i.source2=""),i.poster||(i.poster=""),i.source1=r.convertURL(i.source1,"source"),i.source2=r.convertURL(i.source2,"source"),i.source1mime=M(i.source1),i.source2mime=M(i.source2),i.poster=r.convertURL(i.poster,"poster");v</span>ar t,a,o=(<span class="cstat-no" title="statement not covered" >t=i.source1,0&lt;(a=N.filter(<span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >return e.regex.test(t)}</span>)).length?v.extend({},a[0],{url:<span class="fstat-no" title="function not covered" >fu</span>nction(e,t){<span class="cstat-no" title="statement not covered" >for(var r=e.regex.exec(t),i=e.url,a=function(e){i=i.replace("$"+e,function(){return r[e]?r[e]:""})},o=0;o&lt;r.length;o++)<span class="cstat-no" title="statement not covered" >a(o);<span class="cstat-no" title="statement not covered" >r</span></span>eturn i.replace(/\?$/,"")}</span>(a[0],t)}):null)</span>;<span class="cstat-no" title="statement not covered" >if(o&amp;&amp;(i.source1=o.url,i.type=o.type,i.allowFullscreen=o.allowFullscreen,i.width=i.width||o.w,i.height=i.height||o.h),i.embed)<span class="cstat-no" title="statement not covered" >return A(i.embed,i,!0);v</span></span>ar n=<span class="cstat-no" title="statement not covered" >x(w(r),i.source1);<span class="cstat-no" title="statement not covered" ></span>n&amp;&amp;(i.type="script",i.width=n.width,i.height=n.height);v</span>ar c,s,u,l,m,d,h,p,f=<span class="cstat-no" title="statement not covered" >b(r),</span>g=<span class="cstat-no" title="statement not covered" >y(r);<span class="cstat-no" title="statement not covered" ></span>return i.width=i.width||300,i.height=i.height||150,v.each(i,<span class="fstat-no" title="function not covered" >fu</span>nction(e,t){<span class="cstat-no" title="statement not covered" >i[t]=r.dom.encode(e)}</span>),"iframe"===i.type?(p=(h=i).allowFullscreen?' allowFullscreen="1"':"",'&lt;iframe src="'+h.source1+'" width="'+h.width+'" height="'+h.height+'"'+p+"&gt;&lt;/iframe&gt;"):"application/x-shockwave-flash"===i.source1mime?(d='&lt;object data="'+(m=i).source1+'" width="'+m.width+'" height="'+m.height+'" type="application/x-shockwave-flash"&gt;',m.poster&amp;&amp;(d+='&lt;img src="'+m.poster+'" width="'+m.width+'" height="'+m.height+'" /&gt;'),d+="&lt;/object&gt;"):-1!==i.source1mime.indexOf("audio")?(u=i,(l=f)?l(u):'&lt;audio controls="controls" src="'+u.source1+'"&gt;'+(u.source2?'\n&lt;source src="'+u.source2+'"'+(u.source2mime?' type="'+u.source2mime+'"':"")+" /&gt;\n":"")+"&lt;/audio&gt;"):"script"===i.type?'&lt;script src="'+i.source1+'"&gt;&lt;\/script&gt;':(c=i,(s=g)?s(c):'&lt;video width="'+c.width+'" height="'+c.height+'"'+(c.poster?' poster="'+c.poster+'"':"")+' controls="controls"&gt;\n&lt;source src="'+c.source1+'"'+(c.source1mime?' type="'+c.source1mime+'"':"")+" /&gt;\n"+(c.source2?'&lt;source src="'+c.source2+'"'+(c.source2mime?' type="'+c.source2mime+'"':"")+" /&gt;\n":"")+"&lt;/video&gt;")}</span>,</span>O=<span class="cstat-no" title="statement not covered" >{},</span>P=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(t){<span class="cstat-no" title="statement not covered" >return <span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >return c(t,e)}</span>}</span>,</span>T=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e,t){var r,i,a,o,n,c=<span class="cstat-no" title="statement not covered" >s(e);<span class="cstat-no" title="statement not covered" ></span>return c?(a=t,o=P(e),n=c,new g(<span class="fstat-no" title="function not covered" >fu</span>nction(t,e){var r=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >return e.html&amp;&amp;(O[a.source1]=e),t({url:a.source1,html:e.html?e.html:o(a)})}</span>;<span class="cstat-no" title="statement not covered" ></span>O[a.source1]?r(O[a.source1]):n({url:a.source1},r,e)}</span>)):(r=t,i=P(e),new g(<span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >e({html:i(r),url:r.source1})}</span>))}</span>,</span>$=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >return O.hasOwnProperty(e)}</span>,</span>z=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e,t){<span class="cstat-no" title="statement not covered" >e.state.set("oldVal",e.value()),t.state.set("oldVal",t.value())}</span>,</span>L=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e,t){var r=<span class="cstat-no" title="statement not covered" >e.find("#width")[0],</span>i=<span class="cstat-no" title="statement not covered" >e.find("#height")[0],</span>a=<span class="cstat-no" title="statement not covered" >e.find("#constrain")[0];<span class="cstat-no" title="statement not covered" ></span>r&amp;&amp;i&amp;&amp;a&amp;&amp;t(r,i,a.checked())}</span>,</span>H=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e,t,r){var i=<span class="cstat-no" title="statement not covered" >e.state.get("oldVal"),</span>a=<span class="cstat-no" title="statement not covered" >t.state.get("oldVal"),</span>o=<span class="cstat-no" title="statement not covered" >e.value(),</span>n=<span class="cstat-no" title="statement not covered" >t.value();<span class="cstat-no" title="statement not covered" ></span>r&amp;&amp;i&amp;&amp;a&amp;&amp;o&amp;&amp;n&amp;&amp;(o!==i?(n=Math.round(o/i*n),isNaN(n)||t.value(n)):(o=Math.round(n/a*o),isNaN(o)||e.value(o))),z(e,t)}</span>,</span>W=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >L(e,H)}</span>,</span>J=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e){var t=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >e(<span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >W(e)}</span>)}</span>;<span class="cstat-no" title="statement not covered" ></span>return{type:"container",label:"Dimensions",layout:"flex",align:"center",spacing:5,items:[{name:"width",type:"textbox",maxLength:5,size:5,onchange:t,ariaLabel:"Width"},{type:"label",text:"x"},{name:"height",type:"textbox",maxLength:5,size:5,onchange:t,ariaLabel:"Height"},{name:"constrain",type:"checkbox",checked:!0,text:"Constrain proportions"}]}}</span>,</span>R=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >L(e,z)}</span>,</span>D=<span class="cstat-no" title="statement not covered" >W,</span>E=<span class="cstat-no" title="statement not covered" >o.ie&amp;&amp;o.ie&lt;=8?"onChange":"onInput",</span>I=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(r){<span class="cstat-no" title="statement not covered" >return <span class="fstat-no" title="function not covered" >fu</span>nction(e){var t=<span class="cstat-no" title="statement not covered" >e&amp;&amp;e.msg?"Media embed handler error: "+e.msg:"Media embed handler threw unknown error.";<span class="cstat-no" title="statement not covered" ></span>r.notificationManager.open({type:"error",text:t})}</span>}</span>,</span>U=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(a,o){<span class="cstat-no" title="statement not covered" >return <span class="fstat-no" title="function not covered" >fu</span>nction(e){var t=<span class="cstat-no" title="statement not covered" >e.html,</span>r=<span class="cstat-no" title="statement not covered" >a.find("#embed")[0],</span>i=<span class="cstat-no" title="statement not covered" >v.extend(j(w(o),t),{source1:e.url});<span class="cstat-no" title="statement not covered" ></span>a.fromJSON(i),r&amp;&amp;(r.value(t),D(a))}</span>}</span>,</span>V=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e,t){var r=<span class="cstat-no" title="statement not covered" >e.dom.select("img[data-mce-object]");<span class="cstat-no" title="statement not covered" ></span>e.insertContent(t),<span class="fstat-no" title="function not covered" >fu</span>nction(e,t){var r,i,a=<span class="cstat-no" title="statement not covered" >e.dom.select("img[data-mce-object]");<span class="cstat-no" title="statement not covered" ></span>for(r=0;r&lt;t.length;r++)<span class="cstat-no" title="statement not covered" >for(i=a.length-1;0&lt;=i;i--)<span class="cstat-no" title="statement not covered" >t[r]===a[i]&amp;&amp;a.splice(i,1);<span class="cstat-no" title="statement not covered" >e</span></span></span>.selection.select(a[0])}</span>(e,r),e.nodeChanged()}</span>,</span>B=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(i){var a,t,e,r,o,n=<span class="cstat-no" title="statement not covered" >[{name:"source1",type:"filepicker",filetype:"media",size:40,autofocus:!0,label:"Source",onpaste:<span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >setTimeout(<span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >T(i,a.toJSON()).then(U(a,i))["catch"](I(i))}</span>,1)}</span>,onchange:<span class="fstat-no" title="function not covered" >fu</span>nction(e){var r,t;<span class="cstat-no" title="statement not covered" >T(i,a.toJSON()).then(U(a,i))["catch"](I(i)),r=a,t=e.meta,v.each(t,<span class="fstat-no" title="function not covered" >fu</span>nction(e,t){<span class="cstat-no" title="statement not covered" >r.find("#"+t).value(e)}</span>)}</span>,onbeforecall:<span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >e.meta=a.toJSON()}</span>}],</span>c=<span class="cstat-no" title="statement not covered" >[];<span class="cstat-no" title="statement not covered" ></span>if(m(i)&amp;&amp;c.push({name:"source2",type:"filepicker",filetype:"media",size:40,label:"Alternative source"}),d(i)&amp;&amp;c.push({name:"poster",type:"filepicker",filetype:"image",size:40,label:"Poster"}),h(i)){var s=<span class="cstat-no" title="statement not covered" >J(<span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >e(a),t=a.toJSON(),a.find("#embed").value(A(t.embed,t))}</span>);<span class="cstat-no" title="statement not covered" ></span>n.push(s)}<span class="cstat-no" title="statement not covered" ></span>r</span>=(e=i).selection.getNode(),o=r.getAttribute("data-ephox-embed-iri"),t=o?{source1:o,"data-ephox-embed-iri":o,width:f.getMaxWidth(r),height:f.getMaxHeight(r)}:r.getAttribute("data-mce-object")?j(w(e),e.serializer.serialize(r,{selection:!0})):{};v</span>ar u=<span class="cstat-no" title="statement not covered" >{id:"mcemediasource",type:"textbox",flex:1,name:"embed",value:<span class="fstat-no" title="function not covered" >fu</span>nction(e){var t=<span class="cstat-no" title="statement not covered" >e.selection.getNode();<span class="cstat-no" title="statement not covered" ></span>if(t.getAttribute("data-mce-object")||t.getAttribute("data-ephox-embed-iri"))<span class="cstat-no" title="statement not covered" >return e.selection.getContent()}</span></span>(i),multiline:!0,rows:5,label:"Source"};<span class="cstat-no" title="statement not covered" ></span>u[E]=<span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >t=v.extend({},j(w(i),this.value())),this.parent().parent().fromJSON(t)}</span>;v</span>ar l=<span class="cstat-no" title="statement not covered" >[{title:"General",type:"form",items:n},{title:"Embed",type:"container",layout:"flex",direction:"column",align:"stretch",padding:10,spacing:10,items:[{type:"label",text:"Paste your embed code below:",forId:"mcemediasource"},u]}];<span class="cstat-no" title="statement not covered" ></span>0&lt;c.length&amp;&amp;l.push({title:"Advanced",type:"form",items:c}),a=i.windowManager.open({title:"Insert/edit media",data:t,bodyType:"tabpanel",body:l,onSubmit:<span class="fstat-no" title="function not covered" >fu</span>nction(){var t,e;<span class="cstat-no" title="statement not covered" >D(a),t=i,(e=a.toJSON()).embed=A(e.embed,e),e.embed&amp;&amp;$(e.source1)?V(t,e.embed):T(t,e).then(<span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >V(t,e.html)}</span>)["catch"](I(t))}</span>}),R(a)}</span>,</span>G=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >return{showDialog:<span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >B(e)}</span>}}</span>,</span>q=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >e.addCommand("mceMedia",<span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >B(e)}</span>)}</span>,</span>K=<span class="cstat-no" title="statement not covered" >tinymce.util.Tools.resolve("tinymce.html.Node"),</span>Q=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(a,e){<span class="cstat-no" title="statement not covered" >if(!1===t(a))<span class="cstat-no" title="statement not covered" >return e;v</span></span>ar o,n=<span class="cstat-no" title="statement not covered" >_();<span class="cstat-no" title="statement not covered" ></span>return p({validate:!1,allow_conditional_comments:!1,special:"script,noscript",comment:<span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >n.comment(e)}</span>,cdata:<span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >n.cdata(e)}</span>,text:<span class="fstat-no" title="function not covered" >fu</span>nction(e,t){<span class="cstat-no" title="statement not covered" >n.text(e,t)}</span>,start:<span class="fstat-no" title="function not covered" >fu</span>nction(e,t,r){<span class="cstat-no" title="statement not covered" >if(o=!0,"script"!==e&amp;&amp;"noscript"!==e){<span class="cstat-no" title="statement not covered" >for(var i=0;i&lt;t.length;i++){<span class="cstat-no" title="statement not covered" >if(0===t[i].name.indexOf("on"))<span class="cstat-no" title="statement not covered" >return;<span class="cstat-no" title="statement not covered" >"</span></span>style"===t[i].name&amp;&amp;(t[i].value=a.dom.serializeStyle(a.dom.parseStyle(t[i].value),e))}<span class="cstat-no" title="statement not covered" ></span>n</span>.start(e,t,r),o=!1}</span>}</span>,end:<span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >o||n.end(e)}</span>},C({})).parse(e),n.getContent()}</span>,</span>X=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e,t){var r,i=<span class="cstat-no" title="statement not covered" >t.name;<span class="cstat-no" title="statement not covered" ></span>return(r=new K("img",1)).shortEnded=!0,Z(e,t,r),r.attr({width:t.attr("width")||"300",height:t.attr("height")||("audio"===i?"30":"150"),style:t.attr("style"),src:o.transparentSrc,"data-mce-object":i,"class":"mce-object mce-object-"+i}),r}</span>,</span>Y=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e,t){var r,i,a,o=<span class="cstat-no" title="statement not covered" >t.name;<span class="cstat-no" title="statement not covered" ></span>return(r=new K("span",1)).attr({contentEditable:"false",style:t.attr("style"),"data-mce-object":o,"class":"mce-preview-object mce-object-"+o}),Z(e,t,r),(i=new K(o,1)).attr({src:t.attr("src"),allowfullscreen:t.attr("allowfullscreen"),style:t.attr("style"),"class":t.attr("class"),width:t.attr("width"),height:t.attr("height"),frameborder:"0"}),(a=new K("span",1)).attr("class","mce-shim"),r.append(i),r.append(a),r}</span>,</span>Z=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e,t,r){var i,a,o,n,c;<span class="cstat-no" title="statement not covered" >for(n=(o=t.attributes).length;n--;)<span class="cstat-no" title="statement not covered" >i=o[n].name,a=o[n].value,"width"!==i&amp;&amp;"height"!==i&amp;&amp;"style"!==i&amp;&amp;("data"!==i&amp;&amp;"src"!==i||(a=e.convertURL(a,i)),r.attr("data-mce-p-"+i,a));<span class="cstat-no" title="statement not covered" >(</span></span>c=t.firstChild&amp;&amp;t.firstChild.value)&amp;&amp;(r.attr("data-mce-html",escape(Q(e,c))),r.firstChild=null)}</span>,</span>ee=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >for(;e=e.parent;)<span class="cstat-no" title="statement not covered" >if(e.attr("data-ephox-embed-iri"))<span class="cstat-no" title="statement not covered" >return!0;<span class="cstat-no" title="statement not covered" >r</span></span></span>eturn!1}</span>,</span>te=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(a){<span class="cstat-no" title="statement not covered" >return <span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >for(var t,r,i=e.length;i--;)<span class="cstat-no" title="statement not covered" >(t=e[i]).parent&amp;&amp;(t.parent.attr("data-mce-object")||("script"!==t.name||(r=x(w(a),t.attr("src"))))&amp;&amp;(r&amp;&amp;(r.width&amp;&amp;t.attr("width",r.width.toString()),r.height&amp;&amp;t.attr("height",r.height.toString())),"iframe"===t.name&amp;&amp;n(a)&amp;&amp;o.ceFalse?ee(t)||t.replace(Y(a,t)):ee(t)||t.replace(X(a,t))))}</span></span>}</span>,</span>re=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(d){<span class="cstat-no" title="statement not covered" >d.on("preInit",<span class="fstat-no" title="function not covered" >fu</span>nction(){var t=<span class="cstat-no" title="statement not covered" >d.schema.getSpecialElements();<span class="cstat-no" title="statement not covered" ></span>v.each("video audio iframe object".split(" "),<span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >t[e]=new RegExp("&lt;/"+e+"[^&gt;]*&gt;","gi")}</span>);v</span>ar r=<span class="cstat-no" title="statement not covered" >d.schema.getBoolAttrs();<span class="cstat-no" title="statement not covered" ></span>v.each("webkitallowfullscreen mozallowfullscreen allowfullscreen".split(" "),<span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >r[e]={}}</span>),d.parser.addNodeFilter("iframe,video,audio,object,embed,script",te(d)),d.serializer.addAttributeFilter("data-mce-object",<span class="fstat-no" title="function not covered" >fu</span>nction(e,t){<span class="cstat-no" title="statement not covered" >for(var r,i,a,o,n,c,s,u,l=e.length;l--;)<span class="cstat-no" title="statement not covered" >if((r=e[l]).parent){<span class="cstat-no" title="statement not covered" >for(s=r.attr(t),i=new K(s,1),"audio"!==s&amp;&amp;"script"!==s&amp;&amp;((u=r.attr("class"))&amp;&amp;-1!==u.indexOf("mce-preview-object")?i.attr({width:r.firstChild.attr("width"),height:r.firstChild.attr("height")}):i.attr({width:r.attr("width"),height:r.attr("height")})),i.attr({style:r.attr("style")}),a=(o=r.attributes).length;a--;){var m=<span class="cstat-no" title="statement not covered" >o[a].name;<span class="cstat-no" title="statement not covered" ></span>0===m.indexOf("data-mce-p-")&amp;&amp;i.attr(m.substr(11),o[a].value)}<span class="cstat-no" title="statement not covered" ></span>"</span>script"===s&amp;&amp;i.attr("type","text/javascript"),(n=r.attr("data-mce-html"))&amp;&amp;((c=new K("#text",3)).raw=!0,c.value=Q(d,unescape(n)),i.append(c)),r.replace(i)}</span>}</span></span>)}</span>),d.on("setContent",<span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >d.$("span.mce-preview-object").each(<span class="fstat-no" title="function not covered" >fu</span>nction(e,t){var r=<span class="cstat-no" title="statement not covered" >d.$(t);<span class="cstat-no" title="statement not covered" ></span>0===r.find("span.mce-shim",t).length&amp;&amp;r.append('&lt;span class="mce-shim"&gt;&lt;/span&gt;')}</span>)}</span>)}</span>,</span>ie=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >e.on("ResolveName",<span class="fstat-no" title="function not covered" >fu</span>nction(e){var t;<span class="cstat-no" title="statement not covered" >1===e.target.nodeType&amp;&amp;(t=e.target.getAttribute("data-mce-object"))&amp;&amp;(e.name=t)}</span>)}</span>,</span>ae=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(t){<span class="cstat-no" title="statement not covered" >t.on("click keyup",<span class="fstat-no" title="function not covered" >fu</span>nction(){var e=<span class="cstat-no" title="statement not covered" >t.selection.getNode();<span class="cstat-no" title="statement not covered" ></span>e&amp;&amp;t.dom.hasClass(e,"mce-preview-object")&amp;&amp;t.dom.getAttrib(e,"data-mce-selected")&amp;&amp;e.setAttribute("data-mce-selected","2")}</span>),t.on("ObjectSelected",<span class="fstat-no" title="function not covered" >fu</span>nction(e){var t=<span class="cstat-no" title="statement not covered" >e.target.getAttribute("data-mce-object");<span class="cstat-no" title="statement not covered" ></span>"audio"!==t&amp;&amp;"script"!==t||e.preventDefault()}</span>),t.on("objectResized",<span class="fstat-no" title="function not covered" >fu</span>nction(e){var t,r=<span class="cstat-no" title="statement not covered" >e.target;<span class="cstat-no" title="statement not covered" ></span>r.getAttribute("data-mce-object")&amp;&amp;(t=r.getAttribute("data-mce-html"))&amp;&amp;(t=unescape(t),r.setAttribute("data-mce-html",escape(A(t,{width:e.width,height:e.height}))))}</span>)}</span>,</span>oe=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >e.addButton("media",{tooltip:"Insert/edit media",cmd:"mceMedia",stateSelector:["img[data-mce-object]","span[data-mce-object]","div[data-ephox-embed-iri]"]}),e.addMenuItem("media",{icon:"media",text:"Media",cmd:"mceMedia",context:"insert",prependToContext:!0})}</span>;<span class="cstat-no" title="statement not covered" ></span>e.add("media",<span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >return q(e),oe(e),ie(e),re(e),ae(e),G(e)}</span>)}</span>();</span></pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="https://istanbul.js.org/" target="_blank">istanbul</a> at Fri Apr 12 2019 12:05:13 GMT+0800 (Singapore Standard Time)
</div>
</div>
<script src="../../../../../../../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../../../../../../../sorter.js"></script>
<script src="../../../../../../../block-navigation.js"></script>
</body>
</html>
