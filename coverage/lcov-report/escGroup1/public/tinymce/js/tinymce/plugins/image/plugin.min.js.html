<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for escGroup1/public/tinymce/js/tinymce/plugins/image/plugin.min.js</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../../../../../../prettify.css" />
    <link rel="stylesheet" href="../../../../../../../base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(../../../../../../../sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="../../../../../../../index.html">All files</a> / <a href="index.html">escGroup1/public/tinymce/js/tinymce/plugins/image</a> plugin.min.js
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>0/325</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>0/247</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>0/135</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">0% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>0/1</span>
      </div>
    </div>
    <p class="quiet">
      Press <em>n</em> or <em>j</em> to go to the next uncovered block, <em>b</em>, <em>p</em> or <em>k</em> for the previous block.
    </p>
  </div>
  <div class='status-line low'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet"><a name='L1'></a><a href='#L1'>1</a></td><td class="line-coverage quiet"><span class="cline-any cline-no">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js"><span class="cstat-no" title="statement not covered" >!<span class="fstat-no" title="function not covered" >fu</span>nction(l){"use strict";var i,e=<span class="cstat-no" title="statement not covered" >tinymce.util.Tools.resolve("tinymce.PluginManager"),</span>d=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >return!1!==e.settings.image_dimensions}</span>,</span>u=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >return!0===e.settings.image_advtab}</span>,</span>m=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >return e.getParam("image_prepend_url","")}</span>,</span>n=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >return e.getParam("image_class_list")}</span>,</span>r=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >return!1!==e.settings.image_description}</span>,</span>a=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >return!0===e.settings.image_title}</span>,</span>o=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >return!0===e.settings.image_caption}</span>,</span>c=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >return e.getParam("image_list",!1)}</span>,</span>s=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >return e.getParam("images_upload_url",!1)}</span>,</span>g=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >return e.getParam("images_upload_handler",!1)}</span>,</span>f=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >return e.getParam("images_upload_url")}</span>,</span>p=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >return e.getParam("images_upload_handler")}</span>,</span>h=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >return e.getParam("images_upload_base_path")}</span>,</span>v=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >return e.getParam("images_upload_credentials")}</span>,</span>b=<span class="cstat-no" title="statement not covered" >"undefined"!=typeof l.window?l.window:Function("return this;")(),</span>y=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e,t){<span class="cstat-no" title="statement not covered" >return <span class="fstat-no" title="function not covered" >fu</span>nction(e,t){<span class="cstat-no" title="statement not covered" >for(var n=t!==undefined&amp;&amp;null!==t?t:b,r=0;r&lt;e.length&amp;&amp;n!==undefined&amp;&amp;null!==n;++r)<span class="cstat-no" title="statement not covered" >n=n[e[r]];<span class="cstat-no" title="statement not covered" >r</span></span>eturn n}</span>(e.split("."),t)}</span>,</span>x=<span class="cstat-no" title="statement not covered" >{getOrDie:<span class="fstat-no" title="function not covered" >fu</span>nction(e,t){var n=<span class="cstat-no" title="statement not covered" >y(e,t);<span class="cstat-no" title="statement not covered" ></span>if(n===undefined||null===n)<span class="cstat-no" title="statement not covered" >throw e+" not available on this browser";<span class="cstat-no" title="statement not covered" >r</span></span>eturn n}</span>},</span>w=<span class="cstat-no" title="statement not covered" >tinymce.util.Tools.resolve("tinymce.util.Promise"),</span>C=<span class="cstat-no" title="statement not covered" >tinymce.util.Tools.resolve("tinymce.util.Tools"),</span>S=<span class="cstat-no" title="statement not covered" >tinymce.util.Tools.resolve("tinymce.util.XHR"),</span>N=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e,t){<span class="cstat-no" title="statement not covered" >return Math.max(parseInt(e,10),parseInt(t,10))}</span>,</span>_=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e,n){var r=<span class="cstat-no" title="statement not covered" >l.document.createElement("img");</span>function <span class="fstat-no" title="function not covered" >t(</span>e,t){<span class="cstat-no" title="statement not covered" >r.parentNode&amp;&amp;r.parentNode.removeChild(r),n({width:e,height:t})}<span class="cstat-no" title="statement not covered" ></span>r.onload=<span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >t(N(r.width,r.clientWidth),N(r.height,r.clientHeight))}</span>,r.onerror=<span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >t(0,0)}</span>;v</span>ar a=<span class="cstat-no" title="statement not covered" >r.style;<span class="cstat-no" title="statement not covered" ></span>a.visibility="hidden",a.position="fixed",a.bottom=a.left="0px",a.width=a.height="auto",l.document.body.appendChild(r),r.src=e}</span>,</span>T=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e,a,t){<span class="cstat-no" title="statement not covered" >return function <span class="fstat-no" title="function not covered" >n(</span>e,r){<span class="cstat-no" title="statement not covered" >return r=r||[],C.each(e,<span class="fstat-no" title="function not covered" >fu</span>nction(e){var t=<span class="cstat-no" title="statement not covered" >{text:e.text||e.title};<span class="cstat-no" title="statement not covered" ></span>e.menu?t.menu=n(e.menu):(t.value=e.value,a(t)),r.push(t)}</span>),r}</span>(e,t||[])}</span>,</span>A=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >return e&amp;&amp;(e=e.replace(/px$/,"")),e}</span>,</span>R=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >return 0&lt;e.length&amp;&amp;/^[0-9]+$/.test(e)&amp;&amp;(e+="px"),e}</span>,</span>I=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >if(e.margin){var t=<span class="cstat-no" title="statement not covered" >e.margin.split(" ");<span class="cstat-no" title="statement not covered" ></span>switch(t.length){case 1:<span class="cstat-no" title="statement not covered" >e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[0],e["margin-bottom"]=e["margin-bottom"]||t[0],e["margin-left"]=e["margin-left"]||t[0];<span class="cstat-no" title="statement not covered" >b</span>reak;c</span>ase 2:<span class="cstat-no" title="statement not covered" >e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[0],e["margin-left"]=e["margin-left"]||t[1];<span class="cstat-no" title="statement not covered" >b</span>reak;c</span>ase 3:<span class="cstat-no" title="statement not covered" >e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[2],e["margin-left"]=e["margin-left"]||t[1];<span class="cstat-no" title="statement not covered" >b</span>reak;c</span>ase 4:<span class="cstat-no" title="statement not covered" >e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[2],e["margin-left"]=e["margin-left"]||t[3]}<span class="cstat-no" title="statement not covered" ></span>d</span>elete e.margin}<span class="cstat-no" title="statement not covered" ></span>r</span>eturn e}</span>,</span>t=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e,t){var n=<span class="cstat-no" title="statement not covered" >c(e);<span class="cstat-no" title="statement not covered" ></span>"string"==typeof n?S.send({url:n,success:<span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >t(JSON.parse(e))}</span>}):"function"==typeof n?n(t):t(n)}</span>,</span>O=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e,t,n){function <span class="fstat-no" title="function not covered" >r(</span>){<span class="cstat-no" title="statement not covered" >n.onload=n.onerror=null,e.selection&amp;&amp;(e.selection.select(n),e.nodeChanged())}<span class="cstat-no" title="statement not covered" ></span>n.onload=<span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >t.width||t.height||!d(e)||e.dom.setAttribs(n,{width:n.clientWidth,height:n.clientHeight}),r()}</span>,n.onerror=r}</span>,</span>L=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(r){<span class="cstat-no" title="statement not covered" >return new w(<span class="fstat-no" title="function not covered" >fu</span>nction(e,t){var n=<span class="cstat-no" title="statement not covered" >new(x.getOrDie("FileReader"));<span class="cstat-no" title="statement not covered" ></span>n.onload=<span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >e(n.result)}</span>,n.onerror=<span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >t(n.error.message)}</span>,n.readAsDataURL(r)}</span>)}</span>,</span>P=<span class="cstat-no" title="statement not covered" >tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),</span>U=<span class="cstat-no" title="statement not covered" >Object.prototype.hasOwnProperty,</span>E=(<span class="cstat-no" title="statement not covered" >i=<span class="fstat-no" title="function not covered" >fu</span>nction(e,t){<span class="cstat-no" title="statement not covered" >return t}</span>,<span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >for(var e=new Array(arguments.length),t=0;t&lt;e.length;t++)<span class="cstat-no" title="statement not covered" >e[t]=arguments[t];<span class="cstat-no" title="statement not covered" >i</span></span>f(0===e.length)<span class="cstat-no" title="statement not covered" >throw new Error("Can't merge zero objects");<span class="cstat-no" title="statement not covered" >f</span></span>or(var n={},r=0;r&lt;e.length;r++){var a=<span class="cstat-no" title="statement not covered" >e[r];<span class="cstat-no" title="statement not covered" ></span>for(var o in a)<span class="cstat-no" title="statement not covered" >U.call(a,o)&amp;&amp;(n[o]=i(n[o],a[o]))}<span class="cstat-no" title="statement not covered" ></span></span>r</span>eturn n}</span>)</span>,k=<span class="cstat-no" title="statement not covered" >P.DOM,</span>M=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >return e.style.marginLeft&amp;&amp;e.style.marginRight&amp;&amp;e.style.marginLeft===e.style.marginRight?A(e.style.marginLeft):""}</span>,</span>D=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >return e.style.marginTop&amp;&amp;e.style.marginBottom&amp;&amp;e.style.marginTop===e.style.marginBottom?A(e.style.marginTop):""}</span>,</span>z=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >return e.style.borderWidth?A(e.style.borderWidth):""}</span>,</span>B=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e,t){<span class="cstat-no" title="statement not covered" >return e.hasAttribute(t)?e.getAttribute(t):""}</span>,</span>H=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e,t){<span class="cstat-no" title="statement not covered" >return e.style[t]?e.style[t]:""}</span>,</span>j=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >return null!==e.parentNode&amp;&amp;"FIGURE"===e.parentNode.nodeName}</span>,</span>F=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e,t,n){<span class="cstat-no" title="statement not covered" >e.setAttribute(t,n)}</span>,</span>W=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e){var t,n,r,a;<span class="cstat-no" title="statement not covered" >j(e)?(a=(r=e).parentNode,k.insertAfter(r,a),k.remove(a)):(t=e,n=k.create("figure",{"class":"image"}),k.insertAfter(n,t),n.appendChild(t),n.appendChild(k.create("figcaption",{contentEditable:!0},"Caption")),n.contentEditable="false")}</span>,</span>J=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e,t){var n=<span class="cstat-no" title="statement not covered" >e.getAttribute("style"),</span>r=<span class="cstat-no" title="statement not covered" >t(null!==n?n:"");<span class="cstat-no" title="statement not covered" ></span>0&lt;r.length?(e.setAttribute("style",r),e.setAttribute("data-mce-style",r)):e.removeAttribute("style")}</span>,</span>V=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e,r){<span class="cstat-no" title="statement not covered" >return <span class="fstat-no" title="function not covered" >fu</span>nction(e,t,n){<span class="cstat-no" title="statement not covered" >e.style[t]?(e.style[t]=R(n),J(e,r)):F(e,t,n)}</span>}</span>,</span>G=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e,t){<span class="cstat-no" title="statement not covered" >return e.style[t]?A(e.style[t]):B(e,t)}</span>,</span>$=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e,t){var n=<span class="cstat-no" title="statement not covered" >R(t);<span class="cstat-no" title="statement not covered" ></span>e.style.marginLeft=n,e.style.marginRight=n}</span>,</span>X=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e,t){var n=<span class="cstat-no" title="statement not covered" >R(t);<span class="cstat-no" title="statement not covered" ></span>e.style.marginTop=n,e.style.marginBottom=n}</span>,</span>q=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e,t){var n=<span class="cstat-no" title="statement not covered" >R(t);<span class="cstat-no" title="statement not covered" ></span>e.style.borderWidth=n}</span>,</span>K=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e,t){<span class="cstat-no" title="statement not covered" >e.style.borderStyle=t}</span>,</span>Q=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >return"FIGURE"===e.nodeName}</span>,</span>Y=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e,t){var n=<span class="cstat-no" title="statement not covered" >l.document.createElement("img");<span class="cstat-no" title="statement not covered" ></span>return F(n,"style",t.style),(M(n)||""!==t.hspace)&amp;&amp;$(n,t.hspace),(D(n)||""!==t.vspace)&amp;&amp;X(n,t.vspace),(z(n)||""!==t.border)&amp;&amp;q(n,t.border),(H(n,"borderStyle")||""!==t.borderStyle)&amp;&amp;K(n,t.borderStyle),e(n.getAttribute("style"))}</span>,</span>Z=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e,t){<span class="cstat-no" title="statement not covered" >return{src:B(t,"src"),alt:B(t,"alt"),title:B(t,"title"),width:G(t,"width"),height:G(t,"height"),"class":B(t,"class"),style:e(B(t,"style")),caption:j(t),hspace:M(t),vspace:D(t),border:z(t),borderStyle:H(t,"borderStyle")}}</span>,</span>ee=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e,t,n,r,a){<span class="cstat-no" title="statement not covered" >n[r]!==t[r]&amp;&amp;a(e,r,n[r])}</span>,</span>te=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(r,a){<span class="cstat-no" title="statement not covered" >return <span class="fstat-no" title="function not covered" >fu</span>nction(e,t,n){<span class="cstat-no" title="statement not covered" >r(e,n),J(e,a)}</span>}</span>,</span>ne=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e,t,n){var r=<span class="cstat-no" title="statement not covered" >Z(e,n);<span class="cstat-no" title="statement not covered" ></span>ee(n,r,t,"caption",<span class="fstat-no" title="function not covered" >fu</span>nction(e,t,n){<span class="cstat-no" title="statement not covered" >return W(e)}</span>),ee(n,r,t,"src",F),ee(n,r,t,"alt",F),ee(n,r,t,"title",F),ee(n,r,t,"width",V(0,e)),ee(n,r,t,"height",V(0,e)),ee(n,r,t,"class",F),ee(n,r,t,"style",te(<span class="fstat-no" title="function not covered" >fu</span>nction(e,t){<span class="cstat-no" title="statement not covered" >return F(e,"style",t)}</span>,e)),ee(n,r,t,"hspace",te($,e)),ee(n,r,t,"vspace",te(X,e)),ee(n,r,t,"border",te(q,e)),ee(n,r,t,"borderStyle",te(K,e))}</span>,</span>re=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e,t){var n=<span class="cstat-no" title="statement not covered" >e.dom.styles.parse(t),</span>r=<span class="cstat-no" title="statement not covered" >I(n),</span>a=<span class="cstat-no" title="statement not covered" >e.dom.styles.parse(e.dom.styles.serialize(r));<span class="cstat-no" title="statement not covered" ></span>return e.dom.styles.serialize(a)}</span>,</span>ae=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e){var t=<span class="cstat-no" title="statement not covered" >e.selection.getNode(),</span>n=<span class="cstat-no" title="statement not covered" >e.dom.getParent(t,"figure.image");<span class="cstat-no" title="statement not covered" ></span>return n?e.dom.select("img",n)[0]:t&amp;&amp;("IMG"!==t.nodeName||t.getAttribute("data-mce-object")||t.getAttribute("data-mce-placeholder"))?null:t}</span>,</span>oe=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(t,e){var n=<span class="cstat-no" title="statement not covered" >t.dom,</span>r=<span class="cstat-no" title="statement not covered" >n.getParent(e.parentNode,<span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >return t.schema.getTextBlockElements()[e.nodeName]}</span>,t.getBody());<span class="cstat-no" title="statement not covered" ></span>return r?n.split(r,e):e}</span>,</span>ie=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(t){var e=<span class="cstat-no" title="statement not covered" >ae(t);<span class="cstat-no" title="statement not covered" ></span>return e?Z(<span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >return re(t,e)}</span>,e):{src:"",alt:"",title:"",width:"",height:"","class":"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:""}}</span>,</span>le=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(t,e){var n=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e,t){var n=<span class="cstat-no" title="statement not covered" >l.document.createElement("img");<span class="cstat-no" title="statement not covered" ></span>if(ne(e,E(t,{caption:!1}),n),F(n,"alt",t.alt),t.caption){var r=<span class="cstat-no" title="statement not covered" >k.create("figure",{"class":"image"});<span class="cstat-no" title="statement not covered" ></span>return r.appendChild(n),r.appendChild(k.create("figcaption",{contentEditable:!0},"Caption")),r.contentEditable="false",r}<span class="cstat-no" title="statement not covered" ></span>r</span>eturn n}</span>(<span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >return re(t,e)}</span>,e);<span class="cstat-no" title="statement not covered" ></span>t.dom.setAttrib(n,"data-mce-id","__mcenew"),t.focus(),t.selection.setContent(n.outerHTML);v</span>ar r=<span class="cstat-no" title="statement not covered" >t.dom.select('*[data-mce-id="__mcenew"]')[0];<span class="cstat-no" title="statement not covered" ></span>if(t.dom.setAttrib(r,"data-mce-id",null),Q(r)){var a=<span class="cstat-no" title="statement not covered" >oe(t,r);<span class="cstat-no" title="statement not covered" ></span>t.selection.select(a)}</span>else <span class="cstat-no" title="statement not covered" >t.selection.select(r)}</span></span>,</span>ue=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e,t){var n=<span class="cstat-no" title="statement not covered" >ae(e);<span class="cstat-no" title="statement not covered" ></span>n?t.src?<span class="fstat-no" title="function not covered" >fu</span>nction(t,e){var n,r=<span class="cstat-no" title="statement not covered" >ae(t);<span class="cstat-no" title="statement not covered" ></span>if(ne(<span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >return re(t,e)}</span>,e,r),n=r,t.dom.setAttrib(n,"src",n.getAttribute("src")),Q(r.parentNode)){var a=<span class="cstat-no" title="statement not covered" >r.parentNode;<span class="cstat-no" title="statement not covered" ></span>oe(t,a),t.selection.select(r.parentNode)}</span>else <span class="cstat-no" title="statement not covered" >t.selection.select(r),O(t,e,r)}</span></span>(e,t):<span class="fstat-no" title="function not covered" >fu</span>nction(e,t){<span class="cstat-no" title="statement not covered" >if(t){var n=<span class="cstat-no" title="statement not covered" >e.dom.is(t.parentNode,"figure.image")?t.parentNode:t;<span class="cstat-no" title="statement not covered" ></span>e.dom.remove(n),e.focus(),e.nodeChanged(),e.dom.isEmpty(e.getBody())&amp;&amp;(e.setContent(""),e.selection.setCursorLocation())}</span>}</span>(e,n):t.src&amp;&amp;le(e,t)}</span>,</span>ce=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(n,r){<span class="cstat-no" title="statement not covered" >r.find("#style").each(<span class="fstat-no" title="function not covered" >fu</span>nction(e){var t=<span class="cstat-no" title="statement not covered" >Y(<span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >return re(n,e)}</span>,E({src:"",alt:"",title:"",width:"",height:"","class":"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:""},r.toJSON()));<span class="cstat-no" title="statement not covered" ></span>e.value(t)}</span>)}</span>,</span>se=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(t){<span class="cstat-no" title="statement not covered" >return{title:"Advanced",type:"form",pack:"start",items:[{label:"Style",name:"style",type:"textbox",onchange:(o=t,<span class="fstat-no" title="function not covered" >fu</span>nction(e){var t=<span class="cstat-no" title="statement not covered" >o.dom,</span>n=<span class="cstat-no" title="statement not covered" >e.control.rootControl;<span class="cstat-no" title="statement not covered" ></span>if(u(o)){var r=<span class="cstat-no" title="statement not covered" >n.toJSON(),</span>a=<span class="cstat-no" title="statement not covered" >t.parseStyle(r.style);<span class="cstat-no" title="statement not covered" ></span>n.find("#vspace").value(""),n.find("#hspace").value(""),((a=I(a))["margin-top"]&amp;&amp;a["margin-bottom"]||a["margin-right"]&amp;&amp;a["margin-left"])&amp;&amp;(a["margin-top"]===a["margin-bottom"]?n.find("#vspace").value(A(a["margin-top"])):n.find("#vspace").value(""),a["margin-right"]===a["margin-left"]?n.find("#hspace").value(A(a["margin-right"])):n.find("#hspace").value("")),a["border-width"]?n.find("#border").value(A(a["border-width"])):n.find("#border").value(""),a["border-style"]?n.find("#borderStyle").value(a["border-style"]):n.find("#borderStyle").value(""),n.find("#style").value(t.serializeStyle(t.parseStyle(t.serializeStyle(a))))}</span>}</span>)},{type:"form",layout:"grid",packV:"start",columns:2,padding:0,defaults:{type:"textbox",maxWidth:50,onchange:<span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >ce(t,e.control.rootControl)}</span>},items:[{label:"Vertical space",name:"vspace"},{label:"Border width",name:"border"},{label:"Horizontal space",name:"hspace"},{label:"Border style",type:"listbox",name:"borderStyle",width:90,maxWidth:90,onselect:<span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >ce(t,e.control.rootControl)}</span>,values:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]};v</span>ar o},</span>de=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e,t){<span class="cstat-no" title="statement not covered" >e.state.set("oldVal",e.value()),t.state.set("oldVal",t.value())}</span>,</span>me=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e,t){var n=<span class="cstat-no" title="statement not covered" >e.find("#width")[0],</span>r=<span class="cstat-no" title="statement not covered" >e.find("#height")[0],</span>a=<span class="cstat-no" title="statement not covered" >e.find("#constrain")[0];<span class="cstat-no" title="statement not covered" ></span>n&amp;&amp;r&amp;&amp;a&amp;&amp;t(n,r,a.checked())}</span>,</span>ge=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e,t,n){var r=<span class="cstat-no" title="statement not covered" >e.state.get("oldVal"),</span>a=<span class="cstat-no" title="statement not covered" >t.state.get("oldVal"),</span>o=<span class="cstat-no" title="statement not covered" >e.value(),</span>i=<span class="cstat-no" title="statement not covered" >t.value();<span class="cstat-no" title="statement not covered" ></span>n&amp;&amp;r&amp;&amp;a&amp;&amp;o&amp;&amp;i&amp;&amp;(o!==r?(i=Math.round(o/r*i),isNaN(i)||t.value(i)):(o=Math.round(i/a*o),isNaN(o)||e.value(o))),de(e,t)}</span>,</span>fe=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >me(e,ge)}</span>,</span>pe=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(){var e=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >fe(e.control.rootControl)}</span>;<span class="cstat-no" title="statement not covered" ></span>return{type:"container",label:"Dimensions",layout:"flex",align:"center",spacing:5,items:[{name:"width",type:"textbox",maxLength:5,size:5,onchange:e,ariaLabel:"Width"},{type:"label",text:"x"},{name:"height",type:"textbox",maxLength:5,size:5,onchange:e,ariaLabel:"Height"},{name:"constrain",type:"checkbox",checked:!0,text:"Constrain proportions"}]}}</span>,</span>he=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >me(e,de)}</span>,</span>ve=<span class="cstat-no" title="statement not covered" >fe,</span>be=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >e.meta=e.control.rootControl.toJSON()}</span>,</span>ye=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(s,e){var t=<span class="cstat-no" title="statement not covered" >[{name:"src",type:"filepicker",filetype:"image",label:"Source",autofocus:!0,onchange:<span class="fstat-no" title="function not covered" >fu</span>nction(e){var t,n,r,a,o,i,l,u,c;<span class="cstat-no" title="statement not covered" >n=s,i=(t=e).meta||{},l=t.control,u=l.rootControl,(c=u.find("#image-list")[0])&amp;&amp;c.value(n.convertURL(l.value(),"src")),C.each(i,<span class="fstat-no" title="function not covered" >fu</span>nction(e,t){<span class="cstat-no" title="statement not covered" >u.find("#"+t).value(e)}</span>),i.width||i.height||(r=n.convertURL(l.value(),"src"),a=m(n),o=new RegExp("^(?:[a-z]+:)?//","i"),a&amp;&amp;!o.test(r)&amp;&amp;r.substring(0,a.length)!==a&amp;&amp;(r=a+r),l.value(r),_(n.documentBaseURI.toAbsolute(l.value()),<span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >e.width&amp;&amp;e.height&amp;&amp;d(n)&amp;&amp;(u.find("#width").value(e.width),u.find("#height").value(e.height),he(u))}</span>))}</span>,onbeforecall:be},e];<span class="cstat-no" title="statement not covered" ></span>return r(s)&amp;&amp;t.push({name:"alt",type:"textbox",label:"Image description"}),a(s)&amp;&amp;t.push({name:"title",type:"textbox",label:"Image Title"}),d(s)&amp;&amp;t.push(pe()),n(s)&amp;&amp;t.push({name:"class",type:"listbox",label:"Class",values:T(n(s),<span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >e.value&amp;&amp;(e.textStyle=<span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >return s.formatter.getCssText({inline:"img",classes:[e.value]})}</span>)}</span>)}),o(s)&amp;&amp;t.push({name:"caption",type:"checkbox",label:"Caption"}),t}</span>,</span>xe=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e,t){<span class="cstat-no" title="statement not covered" >return{title:"General",type:"form",items:ye(e,t)}}</span>,</span>we=<span class="cstat-no" title="statement not covered" >ye,</span>Ce=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >return x.getOrDie("URL")}</span>,</span>Se=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >return Ce().createObjectURL(e)}</span>,</span>Ne=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >Ce().revokeObjectURL(e)}</span>,</span>_e=<span class="cstat-no" title="statement not covered" >tinymce.util.Tools.resolve("tinymce.ui.Factory"),</span>Te=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(){};</span>function <span class="fstat-no" title="function not covered" >Ae(</span>i){var t=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e,r,a,t){var o,n;<span class="cstat-no" title="statement not covered" >(o=new(x.getOrDie("XMLHttpRequest"))).open("POST",i.url),o.withCredentials=i.credentials,o.upload.onprogress=<span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >t(e.loaded/e.total*100)}</span>,o.onerror=<span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >a("Image upload failed due to a XHR Transport error. Code: "+o.status)}</span>,o.onload=<span class="fstat-no" title="function not covered" >fu</span>nction(){var e,t,n;<span class="cstat-no" title="statement not covered" >o.status&lt;200||300&lt;=o.status?a("HTTP Error: "+o.status):(e=JSON.parse(o.responseText))&amp;&amp;"string"==typeof e.location?r((t=i.basePath,n=e.location,t?t.replace(/\/$/,"")+"/"+n.replace(/^\//,""):n)):a("Invalid JSON: "+o.responseText)}</span>,(n=new l.FormData).append("file",e.blob(),e.filename()),o.send(n)}</span>;<span class="cstat-no" title="statement not covered" ></span>return i=C.extend({credentials:!1,handler:t},i),{upload:<span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >return i.url||i.handler!==t?(r=e,a=i.handler,new w(<span class="fstat-no" title="function not covered" >fu</span>nction(e,t){<span class="cstat-no" title="statement not covered" >try{<span class="cstat-no" title="statement not covered" >a(r,e,t,Te)}</span>catch(n){<span class="cstat-no" title="statement not covered" >t(n.message)}</span>}</span>)):w.reject("Upload url missing from the settings.");v</span>ar r,a}}}</span>var Re=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(u){<span class="cstat-no" title="statement not covered" >return <span class="fstat-no" title="function not covered" >fu</span>nction(e){var t=<span class="cstat-no" title="statement not covered" >_e.get("Throbber"),</span>n=<span class="cstat-no" title="statement not covered" >e.control.rootControl,</span>r=<span class="cstat-no" title="statement not covered" >new t(n.getEl()),</span>a=<span class="cstat-no" title="statement not covered" >e.control.value(),</span>o=<span class="cstat-no" title="statement not covered" >Se(a),</span>i=<span class="cstat-no" title="statement not covered" >Ae({url:f(u),basePath:h(u),credentials:v(u),handler:p(u)}),</span>l=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >r.hide(),Ne(o)}</span>;<span class="cstat-no" title="statement not covered" ></span>return r.show(),L(a).then(<span class="fstat-no" title="function not covered" >fu</span>nction(e){var t=<span class="cstat-no" title="statement not covered" >u.editorUpload.blobCache.create({blob:a,blobUri:o,name:a.name?a.name.replace(/\.[^\.]+$/,""):null,base64:e.split(",")[1]});<span class="cstat-no" title="statement not covered" ></span>return i.upload(t).then(<span class="fstat-no" title="function not covered" >fu</span>nction(e){var t=<span class="cstat-no" title="statement not covered" >n.find("#src");<span class="cstat-no" title="statement not covered" ></span>return t.value(e),n.find("tabpanel")[0].activateTab(0),t.fire("change"),l(),e}</span>)}</span>)["catch"](<span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >u.windowManager.alert(e),l()}</span>)}</span>}</span>,</span>Ie=<span class="cstat-no" title="statement not covered" >".jpg,.jpeg,.png,.gif",</span>Oe=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >return{title:"Upload",type:"form",layout:"flex",direction:"column",align:"stretch",padding:"20 20 20 20",items:[{type:"container",layout:"flex",direction:"column",align:"center",spacing:10,items:[{text:"Browse for an image",type:"browsebutton",accept:Ie,onchange:Re(e)},{text:"OR",type:"label"}]},{text:"Drop an image here",type:"dropzone",accept:Ie,height:100,onchange:Re(e)}]}}</span>;</span>function <span class="fstat-no" title="function not covered" >Le(</span>r){<span class="cstat-no" title="statement not covered" >for(var a=[],e=1;e&lt;arguments.length;e++)<span class="cstat-no" title="statement not covered" >a[e-1]=arguments[e];<span class="cstat-no" title="statement not covered" >r</span></span>eturn <span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >for(var e=[],t=0;t&lt;arguments.length;t++)<span class="cstat-no" title="statement not covered" >e[t]=arguments[t];v</span></span>ar n=<span class="cstat-no" title="statement not covered" >a.concat(e);<span class="cstat-no" title="statement not covered" ></span>return r.apply(null,n)}</span>}</span>var Pe=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(t,e){var n=<span class="cstat-no" title="statement not covered" >e.control.getRoot();<span class="cstat-no" title="statement not covered" ></span>ve(n),t.undoManager.transact(<span class="fstat-no" title="function not covered" >fu</span>nction(){var e=<span class="cstat-no" title="statement not covered" >E(ie(t),n.toJSON());<span class="cstat-no" title="statement not covered" ></span>ue(t,e)}</span>),t.editorUpload.uploadImagesAuto()}</span>;</span>function <span class="fstat-no" title="function not covered" >Ue(</span>o){function <span class="fstat-no" title="function not covered" >e(</span>e){var n,t,r=<span class="cstat-no" title="statement not covered" >ie(o);<span class="cstat-no" title="statement not covered" ></span>if(e&amp;&amp;(t={type:"listbox",label:"Image list",name:"image-list",values:T(e,<span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >e.value=o.convertURL(e.value||e.url,"src")}</span>,[{text:"None",value:""}]),value:r.src&amp;&amp;o.convertURL(r.src,"src"),onselect:<span class="fstat-no" title="function not covered" >fu</span>nction(e){var t=<span class="cstat-no" title="statement not covered" >n.find("#alt");<span class="cstat-no" title="statement not covered" ></span>(!t.value()||e.lastControl&amp;&amp;t.value()===e.lastControl.text())&amp;&amp;t.value(e.control.text()),n.find("#src").value(e.control.value()).fire("change")}</span>,onPostRender:<span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >t=this}</span>}),u(o)||s(o)||g(o)){var a=<span class="cstat-no" title="statement not covered" >[xe(o,t)];<span class="cstat-no" title="statement not covered" ></span>u(o)&amp;&amp;a.push(se(o)),(s(o)||g(o))&amp;&amp;a.push(Oe(o)),n=o.windowManager.open({title:"Insert/edit image",data:r,bodyType:"tabpanel",body:a,onSubmit:Le(Pe,o)})}</span>else <span class="cstat-no" title="statement not covered" >n=o.windowManager.open({title:"Insert/edit image",data:r,body:we(o,t),onSubmit:Le(Pe,o)});<span class="cstat-no" title="statement not covered" >h</span></span>e(n)}<span class="cstat-no" title="statement not covered" ></span>return{open:<span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >t(o,e)}</span>}}</span>var Ee=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >e.addCommand("mceImage",Ue(e).open)}</span>,</span>ke=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(o){<span class="cstat-no" title="statement not covered" >return <span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >for(var t,n,r=e.length,a=function(e){e.attr("contenteditable",o?"true":null)};r--;)<span class="cstat-no" title="statement not covered" >t=e[r],(n=t.attr("class"))&amp;&amp;/\bimage\b/.test(n)&amp;&amp;(t.attr("contenteditable",o?"false":null),C.each(t.getAll("figcaption"),a))}</span></span>}</span>,</span>Me=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >e.on("preInit",<span class="fstat-no" title="function not covered" >fu</span>nction(){<span class="cstat-no" title="statement not covered" >e.parser.addNodeFilter("figure",ke(!0)),e.serializer.addNodeFilter("figure",ke(!1))}</span>)}</span>,</span>De=<span class="cstat-no" title="statement not covered" ><span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >e.addButton("image",{icon:"image",tooltip:"Insert/edit image",onclick:Ue(e).open,stateSelector:"img:not([data-mce-object],[data-mce-placeholder]),figure.image"}),e.addMenuItem("image",{icon:"image",text:"Image",onclick:Ue(e).open,context:"insert",prependToContext:!0})}</span>;<span class="cstat-no" title="statement not covered" ></span>e.add("image",<span class="fstat-no" title="function not covered" >fu</span>nction(e){<span class="cstat-no" title="statement not covered" >Me(e),De(e),Ee(e)}</span>)}</span>(window);</span></pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="https://istanbul.js.org/" target="_blank">istanbul</a> at Fri Apr 12 2019 12:05:34 GMT+0800 (Singapore Standard Time)
</div>
</div>
<script src="../../../../../../../prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="../../../../../../../sorter.js"></script>
<script src="../../../../../../../block-navigation.js"></script>
</body>
</html>
